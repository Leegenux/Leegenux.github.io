<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Deployment of Static Sites with Nginx and Certbot | Evan&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="This note introduces how to deploy a https-enabled static website with nginx and certbot. Nginx ConfigurationSuppose you already have the nginx package installed in your Linux system.For a simple stat">
<meta property="og:type" content="article">
<meta property="og:title" content="Deployment of Static Sites with Nginx and Certbot">
<meta property="og:url" content="https://leegenux.xyz/2023/01/24/Deployment-of-Static-Sites-with-Nginx/index.html">
<meta property="og:site_name" content="Evan&#39;s Blog">
<meta property="og:description" content="This note introduces how to deploy a https-enabled static website with nginx and certbot. Nginx ConfigurationSuppose you already have the nginx package installed in your Linux system.For a simple stat">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-01-24T11:17:10.000Z">
<meta property="article:modified_time" content="2023-01-24T12:07:11.478Z">
<meta property="article:author" content="Evan Lee">
<meta property="article:tag" content="nginx, ssl, https, static website, letsencrypt, certbot">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Evan's Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Evan&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://leegenux.xyz"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-Deployment-of-Static-Sites-with-Nginx" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/24/Deployment-of-Static-Sites-with-Nginx/" class="article-date">
  <time class="dt-published" datetime="2023-01-24T11:17:10.000Z" itemprop="datePublished">2023-01-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Deployment of Static Sites with Nginx and Certbot
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>This note introduces how to deploy a https-enabled static website with <code>nginx</code> and <code>certbot</code>.</p>
<h2 id="Nginx-Configuration"><a href="#Nginx-Configuration" class="headerlink" title="Nginx Configuration"></a>Nginx Configuration</h2><p>Suppose you already have the <code>nginx</code> package installed in your Linux system.<br>For a simple static site located at <code>/home/evan/blog/public</code>, we can have it up runing with the a simple configuration located at <code>/etc/nginx/conf.d/your_domain.conf</code>, which writes as</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen 443 ssl;</span><br><span class="line">  server_name your_domain;</span><br><span class="line">  </span><br><span class="line">  ssl_certificate /etc/letsencrypt/live/your_domain/fullchain.pem;</span><br><span class="line">  ssl_certificate_key /etc/letsencrypt/live/your_domain/privkey.pem;</span><br><span class="line"></span><br><span class="line">  root /home/lighthouse/blog/public;</span><br><span class="line">  index index.html; # name of index page</span><br><span class="line">  location ~* ^.+\.(jpg|jpeg|gif|png|ico|css|js|pdf|txt)&#123;</span><br><span class="line">    root /home/lighthouse/blog/public;</span><br><span class="line">  &#125; # access to static files</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>After your are done editing, don’t forget to run <code>nginx -s reload</code> to apply the new configuration.</p>
<p>If you aim to implement more advanced features, you should add more details or even a couple of more configuration files, please refer to the official <a target="_blank" rel="noopener" href="https://nginx.org/en/docs/">nginx documentation</a>.</p>
<p>I believe that now you wonder <strong>how to get those SSL certificate and key</strong>.</p>
<h2 id="Get-the-SSL-Certificate"><a href="#Get-the-SSL-Certificate" class="headerlink" title="Get the SSL Certificate"></a>Get the SSL Certificate</h2><p>You can require a paid one from some <a target="_blank" rel="noopener" href="https://www.google.com.hk/search?q=ssl+certificate&oq=SSL+certificate">SSL certificate organization</a>. Nevertheless for us non-commercial users, we can simply generate a free certificate by ourselves, with the help of <code>certbot</code>, the official certification helper of the <a target="_blank" rel="noopener" href="https://letsencrypt.org/">letsencrypt</a> organization.</p>
<p>To generate one, all you need are the <code>certbot</code> installed and a legally owned domain name. The command is as follows</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot certonly --standalone -d your_domain</span><br></pre></td></tr></table></figure>
<p>There are some points to be aware of:</p>
<ul>
<li>You should have ports <code>443</code> and <code>80</code> unoccupied before running the command.</li>
<li>Your domain name should be well resolved by DNS service providers and pointed to your current machine.</li>
<li>In China, in order to build a healthy Internet environment, the authorities require us to file our website information with the relevant department and obtain confirmation, otherwise the domain name won’t resolve properly and no SSL certificate can be obtained.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://leegenux.xyz/2023/01/24/Deployment-of-Static-Sites-with-Nginx/" data-id="clda696tq00001hwkgwxvce0x" data-title="Deployment of Static Sites with Nginx and Certbot" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx-ssl-https-static-website-letsencrypt-certbot/" rel="tag">nginx, ssl, https, static website, letsencrypt, certbot</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2023/01/24/Introduction-to-Hexo-Blog-Framework/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Introduction to Hexo Blog Framework</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PIC32/" rel="tag">PIC32</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PIC32MX/" rel="tag">PIC32MX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apache/" rel="tag">apache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/awk/" rel="tag">awk</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bash/" rel="tag">bash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/crack/" rel="tag">crack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cracking/" rel="tag">cracking</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cut/" rel="tag">cut</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dll/" rel="tag">dll</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/embeded/" rel="tag">embeded</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nextcloud/" rel="tag">nextcloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-ssl-https-static-website-letsencrypt-certbot/" rel="tag">nginx, ssl, https, static website, letsencrypt, certbot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/paste/" rel="tag">paste</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pe/" rel="tag">pe</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reverse/" rel="tag">reverse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/socket/" rel="tag">socket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sort/" rel="tag">sort</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tr/" rel="tag">tr</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uniq/" rel="tag">uniq</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/win32/" rel="tag">win32</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 10px;">C</a> <a href="/tags/PIC32/" style="font-size: 10px;">PIC32</a> <a href="/tags/PIC32MX/" style="font-size: 10px;">PIC32MX</a> <a href="/tags/algorithm/" style="font-size: 10px;">algorithm</a> <a href="/tags/apache/" style="font-size: 10px;">apache</a> <a href="/tags/awk/" style="font-size: 10px;">awk</a> <a href="/tags/bash/" style="font-size: 15px;">bash</a> <a href="/tags/crack/" style="font-size: 10px;">crack</a> <a href="/tags/cracking/" style="font-size: 10px;">cracking</a> <a href="/tags/cut/" style="font-size: 10px;">cut</a> <a href="/tags/dll/" style="font-size: 10px;">dll</a> <a href="/tags/embeded/" style="font-size: 10px;">embeded</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/linux/" style="font-size: 20px;">linux</a> <a href="/tags/nextcloud/" style="font-size: 10px;">nextcloud</a> <a href="/tags/nginx-ssl-https-static-website-letsencrypt-certbot/" style="font-size: 10px;">nginx, ssl, https, static website, letsencrypt, certbot</a> <a href="/tags/paste/" style="font-size: 10px;">paste</a> <a href="/tags/pe/" style="font-size: 12.5px;">pe</a> <a href="/tags/reverse/" style="font-size: 10px;">reverse</a> <a href="/tags/shell/" style="font-size: 17.5px;">shell</a> <a href="/tags/socket/" style="font-size: 10px;">socket</a> <a href="/tags/sort/" style="font-size: 10px;">sort</a> <a href="/tags/tr/" style="font-size: 10px;">tr</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a> <a href="/tags/uniq/" style="font-size: 10px;">uniq</a> <a href="/tags/win32/" style="font-size: 12.5px;">win32</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/01/24/Deployment-of-Static-Sites-with-Nginx/">Deployment of Static Sites with Nginx and Certbot</a>
          </li>
        
          <li>
            <a href="/2023/01/24/Introduction-to-Hexo-Blog-Framework/">Introduction to Hexo Blog Framework</a>
          </li>
        
          <li>
            <a href="/2023/01/24/understanding-pe-format/">Basics of PE Format(1)</a>
          </li>
        
          <li>
            <a href="/2023/01/24/usage%20of%20derper%20and%20certbot/">Configuration of Tailscale Derper and Certbot</a>
          </li>
        
          <li>
            <a href="/2019/07/06/PIC32-configuration/">PIC32MX Basics --- Basic Configuration</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 Evan Lee<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>